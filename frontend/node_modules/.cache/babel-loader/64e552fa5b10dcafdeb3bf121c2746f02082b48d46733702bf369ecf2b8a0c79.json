{"ast":null,"code":"import _regeneratorRuntime from\"D:/tg/backend/tuyxona/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/tg/backend/tuyxona/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"D:/tg/backend/tuyxona/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/tg/backend/tuyxona/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/tg/backend/tuyxona/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import axios from'axios';import Swal from'sweetalert2';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function AddRestaurant(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var navgate=useNavigate();var handleChange=function handleChange(e){setData(_objectSpread(_objectSpread({},data),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();axios.post('https://toyxona-app.onrender.com/restaurant/add',data).then(function(res){Swal.fire('Yaxshi!',\"To'yxona qo'shildi\",'success').then(function(){navgate('/admin/home');});console.log(res.data);}).catch(function(err){console.log(err.message);Swal.fire('Xatolik!',\"To'yxona qushguncha xatolik\",'error');});};var handleFileUpload=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var file,base64;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:file=e.target.files[0];_context.next=3;return convertToBase64(file);case 3:base64=_context.sent;setData(_objectSpread(_objectSpread({},data),{},{'photo':base64}));case 5:case\"end\":return _context.stop();}},_callee);}));return function handleFileUpload(_x){return _ref.apply(this,arguments);};}();console.log(data);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",style:{marginTop:'80px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-center\",children:\"To'yxona qushish\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-6\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"mt-3\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlInput3\",className:\"form-label\",children:\"Nom\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"exampleFormControlInput3\",placeholder:\"Nom\",name:\"name\",value:data.name||'',onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlInput3\",className:\"form-label\",children:\"Sig'im\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"exampleFormControlInput3\",placeholder:\"Sig'im\",name:\"capacity\",value:data.capacity||'',onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlInput3\",className:\"form-label\",children:\"Narx\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"exampleFormControlInput3\",placeholder:\"Narx\",name:\"price\",value:data.price||'',onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlInput4\",className:\"form-label\",children:\"Joylashuv\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"exampleFormControlInput4\",placeholder:\"Joylashuv\",name:\"address\",value:data.address||'',onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlInput5\",className:\"form-label\",children:\"Surat\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".jpg, .png, .jpeg\",className:\"form-control\",id:\"exampleFormControlInput5\",name:\"photo\",onChange:function onChange(e){return handleFileUpload(e);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlTextarea1\",className:\"form-label\",children:\"Umumiy ma'lumot\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"exampleFormControlTextarea1\",rows:\"3\",placeholder:\"umumiy ma'lumot(ixtyoriy)\",value:data.phogeneralInformationto,name:\"generalInformation\",onChange:handleChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-end\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary\",children:\"Add\"})})]})})]})})});}export default AddRestaurant;function convertToBase64(file){return new Promise(function(resolve,reject){var fileReader=new FileReader();fileReader.readAsDataURL(file);fileReader.onload=function(){resolve(fileReader.result);};fileReader.onerror=function(error){reject(error);};});}","map":{"version":3,"names":["React","useState","axios","Swal","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AddRestaurant","_useState","_useState2","_slicedToArray","data","setData","navgate","handleChange","e","_objectSpread","_defineProperty","target","name","value","handleSubmit","preventDefault","post","then","res","fire","console","log","catch","err","message","handleFileUpload","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","file","base64","wrap","_callee$","_context","prev","next","files","convertToBase64","sent","stop","_x","apply","arguments","children","className","style","marginTop","onSubmit","for","type","id","placeholder","onChange","capacity","price","address","accept","rows","phogeneralInformationto","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","result","onerror","error"],"sources":["D:/tg/backend/tuyxona/frontend/src/pages/AddRestaurant.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport axios from 'axios'\r\nimport Swal from 'sweetalert2'\r\nimport { useNavigate } from 'react-router-dom';\r\nfunction AddRestaurant() {\r\n  const [data, setData] = useState({});\r\n  const navgate = useNavigate()\r\n  const handleChange = (e) => {\r\n    setData({ ...data, [e.target.name]: e.target.value });\r\n  };\r\n\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    axios\r\n      .post('https://toyxona-app.onrender.com/restaurant/add', data)\r\n      .then((res) => {\r\n        Swal.fire(\r\n          'Yaxshi!',\r\n          `To'yxona qo'shildi`,\r\n          'success'\r\n        ).then(() => {\r\n          navgate('/admin/home')\r\n        });\r\n        console.log(res.data)\r\n      })\r\n      .catch(err => {\r\n        console.log(err.message)\r\n        Swal.fire(\r\n          'Xatolik!',\r\n          `To'yxona qushguncha xatolik`,\r\n          'error'\r\n        );\r\n      })\r\n\r\n\r\n\r\n  };\r\n  const handleFileUpload = async (e) => {\r\n    const file = e.target.files[0];\r\n    const base64 = await convertToBase64(file);\r\n    setData({ ...data, 'photo': base64 })\r\n  }\r\n  console.log(data)\r\n  return (\r\n    <>\r\n      <div className=\"container\" style={{ marginTop: '80px' }}>\r\n        <div className=\"row\">\r\n          <h4 className='text-center'>To'yxona qushish</h4>\r\n          <div className=\"col-xl-3\"></div>\r\n          <div className=\"col-xl-6\">\r\n            <form className='mt-3' onSubmit={handleSubmit}>\r\n              <div className=\"mb-3\">\r\n                <label for=\"exampleFormControlInput3\" className=\"form-label\">Nom</label>\r\n                <input type=\"text\" className=\"form-control\" id=\"exampleFormControlInput3\" placeholder=\"Nom\" name='name' value={data.name || ''} onChange={handleChange} />\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <label for=\"exampleFormControlInput3\" className=\"form-label\">Sig'im</label>\r\n                <input type=\"number\" className=\"form-control\" id=\"exampleFormControlInput3\" placeholder=\"Sig'im\" name='capacity' value={data.capacity || ''} onChange={handleChange} />\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <label for=\"exampleFormControlInput3\" className=\"form-label\">Narx</label>\r\n                <input type=\"number\" className=\"form-control\" id=\"exampleFormControlInput3\" placeholder=\"Narx\" name='price' value={data.price || ''} onChange={handleChange} />\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <label for=\"exampleFormControlInput4\" className=\"form-label\">Joylashuv</label>\r\n                <input type=\"text\" className=\"form-control\" id=\"exampleFormControlInput4\" placeholder=\"Joylashuv\" name='address' value={data.address || ''} onChange={handleChange} />\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <label for=\"exampleFormControlInput5\" className=\"form-label\">Surat</label>\r\n                <input type=\"file\" accept='.jpg, .png, .jpeg' className=\"form-control\" id=\"exampleFormControlInput5\" name='photo' onChange={(e) => handleFileUpload(e)} />\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <label for=\"exampleFormControlTextarea1\" className=\"form-label\">Umumiy ma'lumot</label>\r\n                <textarea className=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"3\" placeholder=\"umumiy ma'lumot(ixtyoriy)\" value={data.phogeneralInformationto} name='generalInformation' onChange={handleChange}></textarea>\r\n              </div>\r\n              <div className='d-flex justify-content-end'>\r\n                <button className='btn btn-outline-primary'>Add</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AddRestaurant\r\n\r\nfunction convertToBase64(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const fileReader = new FileReader();\r\n    fileReader.readAsDataURL(file);\r\n    fileReader.onload = () => {\r\n      resolve(fileReader.result)\r\n    };\r\n    fileReader.onerror = (error) => {\r\n      reject(error)\r\n    }\r\n  })\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}